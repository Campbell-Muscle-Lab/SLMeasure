<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(1)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(3) > ul > li:nth-child(1) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(3) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(3) > ul > li:nth-child(1) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(3) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(3) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Start new measurement using brightfield images | SLMeasure</title> <meta name="generator" content="Jekyll v3.9.3" /> <meta property="og:title" content="Start new measurement using brightfield images" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="http://localhost:4000/pages/tutorial/start_new_measurement_using_brightfield_images/start_new_measurement_using_brightfield_images.html" /> <meta property="og:url" content="http://localhost:4000/pages/tutorial/start_new_measurement_using_brightfield_images/start_new_measurement_using_brightfield_images.html" /> <meta property="og:site_name" content="SLMeasure" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Start new measurement using brightfield images" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","headline":"Start new measurement using brightfield images","url":"http://localhost:4000/pages/tutorial/start_new_measurement_using_brightfield_images/start_new_measurement_using_brightfield_images.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> SLMeasure </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">SLMeasure</a></li><li class="nav-list-item"><a href="/pages/installation/installation.html" class="nav-list-link">Installation</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Tutorial category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/pages/tutorial/tutorial.html" class="nav-list-link">Tutorial</a><ul class="nav-list"><li class="nav-list-item"><a href="/pages/tutorial/start_new_measurement_using_brightfield_images/start_new_measurement_using_brightfield_images.html" class="nav-list-link">Start new measurement using brightfield images</a></li><li class="nav-list-item"><a href="/pages/tutorial/load_measurement/load_measurement.html" class="nav-list-link">Load measurement</a></li></ul></li><li class="nav-list-item"><a href="/pages/help/help.html" class="nav-list-link">Help</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search SLMeasure" aria-label="Search SLMeasure" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="http://www.campbellmusclelab.org" class="site-button" > Campbell Muscle Lab </a> </li> <li class="aux-nav-list-item"> <a href="http://campbell-muscle-lab.github.io" class="site-button" > Lab GitHub </a> </li> <li class="aux-nav-list-item"> <a href="http://github.com/Campbell-Muscle-Lab/SLMeasure" class="site-button" > SLMeasure Repo </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/pages/tutorial/tutorial.html">Tutorial</a></li> <li class="breadcrumb-nav-list-item"><span>Start new measurement using brightfield images</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="start-new-measurement-using-brightfield-images"> <a href="#start-new-measurement-using-brightfield-images" class="anchor-heading" aria-labelledby="start-new-measurement-using-brightfield-images"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Start new measurement using brightfield images </h1> <p>This page provides simple instructions on how to perform a new sarcomere length measurement with SLMeasure using a brightfield image.</p> <h2 id="instructions"> <a href="#instructions" class="anchor-heading" aria-labelledby="instructions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Instructions </h2> <ul> <li>Using the SLMeasure through the cloned repository <ul> <li>Launch MATLAB and double-click <code class="language-plaintext highlighter-rouge">SLMeasure.mlapp</code>. It is located under <code class="language-plaintext highlighter-rouge">&lt;repo&gt;</code> folder.</li> <li>The <code class="language-plaintext highlighter-rouge">SLMeasure.mlapp</code> file starts the MATLAB App Designer, then press <kbd>F5</kbd> to start the application.</li> </ul> </li> </ul> <p>After a few seconds, you should see a program window. Here is the SLMeasure interface (Clicking on any of the images on this page will open a larger version in a new browser window.).</p> <p><a href="media/start_up_window.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/start_up_window.png" alt="Load file button" /></a></p> <p>The interface is divided into three different panels. Their functionality is summarized as follows:</p> <ul> <li>Camera: This panel has all the controls for the camera used in the experiment. Its’ functionality is highlighted under the “Live Measurements” tutorial.</li> <li>Brightfield: This panel has multiple axes to show images and intensity profiles. It is the initial processing before the calculation. <ul> <li>The image axes display the brightfield images. The images are loaded using the load image button above. The region of interest (ROI) box controls are placed above the image axes. <strong>The microscope calibration is required to convert pixels to length scales (um/px in this case).</strong></li> <li>The area enclosed by the ROI is displayed on the ROI axes.</li> <li>Intensity profiles along the height of the ROI box are displayed on the Intensity Profiles axes. The intensity profile of the selected ROI row is highlighted.</li> <li>The derivative of the selected trace is shown on the Derivative of the Intensity profile axes. The derivation is performed to remove systemic trends.</li> </ul> </li> <li>Sarcomere Length Calculation: This panel shows the outputs of processing the ROI with <a href="https://en.wikipedia.org/wiki/Fast_Fourier_transform">Fast-Fourier Transform (FFT)</a> and <a href="https://en.wikipedia.org/wiki/Autocorrelation">Autocorrelation Function (ACF)</a>. SLMeasure calculates the FFT and ACF for each row in the ROI. Once all the rows are processed, the average of the FFT amplitude spectrum is used to find the peak location. On the other hand, a damped sine function is fitted to the mean ACF. <ul> <li>The x-axis value of the first peak is highlighted (with the star marker) on the FFT axes.</li> <li>The R-squared and the wavelength of the damped sine function are highlighted on the ACF axes.</li> <li>The sarcomere length value from each ROI box for each method is tabulated.</li> <li>The Experiment axis tracks the sarcomere length measurements during the Live Experiment Mode.</li> </ul> </li> </ul> <p>The first step of the measurement with SLMeasure is to load the microscope calibration file, in an Excel, format that converts the pixels to length scales. The Load Microscope Calibration File button is located at the top left corner of the Brightfield Panel, shown in the red rectangle.</p> <p><a href="media/load_calibration_file.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/load_calibration_file.png" alt="Load calibration file" /></a></p> <p>Clicking the button opens a File Open Dialog. Locate the folder that has the calibration file and load it to the SLMeasure.</p> <p><a href="media/select_calibration_file.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/select_calibration_file.png" alt="Select calibration file" /></a></p> <p>SLMeasure looks for the Excel files for the calibration. The Excel file in this tutorial is formatted as follows.</p> <p><a href="media/calibration_excel_file.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/calibration_excel_file.png" alt="Calibration excel file" /></a></p> <p>Here are brief information on the sheets shown in the Excel file.</p> <ul> <li>Summary: This sheet holds the resulting calibration constants for different objectives.</li> <li>Sheet 1 and Sheet 2: They hold the measured distances in both length scales and pixels.</li> </ul> <p>The Microscope Calibration Drop-down, shown in red rectangle, is populated with the information from the loaded calibration Excel file.</p> <p><a href="media/calibration_dropdown.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/calibration_dropdown.png" alt="Microscope calibration dropdown" /></a></p> <p>The next step of the measurement with SLMeasure is to load an image file into the environment. The Load Image is located above the image axes, shown in the red rectangle.</p> <p><a href="media/load_image.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/load_image.png" alt="Load file button" /></a></p> <p>Upon clicking the Load Image button, it opens a normal Windows File Open Dialog. Locate the folder that has the brightfield images on your computer. SLMeasure can work with PNG (Portable Network Graphics) and TIFF or TIF (Tag Image File Format) files.</p> <p><a href="media/file_open.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/file_open.png" alt="File open" /></a></p> <p>An image should now be displayed in the Brightfield panel (red rectangle). The loaded image is a permeabilized preparation from the left ventricle. We expect to see a sarcomere length ranging from 1.9 - 2.3 um in this example.</p> <p><a href="media/image_loaded.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/image_loaded.png" alt="Image loaded" /></a></p> <p>You can zoom into the area of interest using MATLAB’s zoom-in controls. Change the cursor mode using the zoom-in controls, shown in the red rectangle. This feature appears on the top right corner of the image axes. It is hidden, but it appears as you hover over the image</p> <p><a href="media/zoom_buttons.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/zoom_buttons.png" alt="Zoom buttons" /></a></p> <p>Conversion from pixels to micrometers(um) is crucial for the app’s functionality. The brightfield image was acquired with a 20X objective. Click the Microscope Calibration Drop-down and select the Obj. 20X option. <strong>Please note that the microscope calibration is unique to the experimental setup. Please use your experimental setup’s calibration file.</strong></p> <p><a href="media/microscope_calibration.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/microscope_calibration.png" alt="Zoom buttons" /></a></p> <p>The next step is to draw an ROI box for measurement. Box controls are placed above the brightfield image axes, shown in red rectangle.</p> <p><a href="media/new_box.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/new_box.png" alt="new box" /></a></p> <p>After clicking the New Box button, the mouse cursor changes into a crosshair. Click on the image and expand the ROI to the desired size. You can always adjust the position of the ROI box by dragging it across the image. Make sure to place the box, where you can see “clear” striations. This is easy to accomplish using the skeletal preparation, whereas the cardiac preparations require a “closer” look. The newly generated box appears light green.</p> <p>The SLMeasure automatically processes the enclosed area in the ROI. The intensity profiles for each row in the ROI are extracted. Please note that all the empty axes and fields, except the Experiment axis, are populated now.</p> <p><a href="media/box_1.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/box_1.png" alt="box_1" /></a></p> <p>You can visualize the processed traces and results from all the ROI boxes using the ROI row select spinner, shown in the red rectangle. The displayed trace belongs to the 7th row in the ROI box.</p> <p><a href="media/change_row.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/change_row.png" alt="Change row" /></a></p> <p>Measuring multiple regions over preparation and using the average sarcomere lengths is a good practice. Once you are completed with the current box, generate your next box as mentioned above. SLMeasure will automatically place a new box near the old box. All the boxes have the same dimensions. The new box becomes the selected box (light green), and the old box is shown in red. Drag the new box to the desired position. The new box is processed, and the new values are added to the table. You can change the selected box using the Box Selection dropdown, shown in the red rectangle.</p> <p><a href="media/box_2.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/box_2.png" alt="Box 2" /></a></p> <p>Once you finish your measurement, click the File button on the toolbar (red rectangle) to save your measurement.</p> <p><a href="media/save_measurement.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/save_measurement.png" alt="Save measurement" /></a></p> <p>The Save Measurement button opens the following file dialog box, which allows you to save SLMeasure measurement files in a unique .sl format. This file format can be loaded to SLMeasure to revisit the measurement. Name your file and click Save.</p> <p><a href="media/save_measurement_dialog.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/save_measurement_dialog.png" alt="Save measurement" /></a></p> <p>Additionally, the sarcomere length table can be exported as an Excel file. Click the Export SL Table button.</p> <p><a href="media/export_sl_table.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/export_sl_table.png" alt="export sl table" /></a></p> <p>The button opens a file dialog box for the Excel file. Name your file and click Save.</p> <p><a href="media/sl_table_dialog.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/sl_table_dialog.png" alt="Sl table dialog" /></a></p> <p>The exported Excel file has the same structure as the table.</p> <p><a href="media/sl_table_excel.png" target="_blank"><img src="/pages/tutorial/start_new_measurement_using_brightfield_images/media/sl_table_excel.png" alt="Sl table excel" /></a></p> </main> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0"></p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
